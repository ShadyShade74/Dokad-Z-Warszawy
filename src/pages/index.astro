---
import Footer from '../footer/Footer.astro';
import Layout from '../layouts/Layout.astro';
import Header from '../header/Header.astro';
import Logo from '../components/Logo.astro';
import About from '../components/About.astro';
import Article from '../layouts/Article.astro';
---


<Layout>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <Header />
  <Logo />
  <About />
  <input type="text" placeholder="Farma Iluzji etc." class="search-input" />
  <div class="articles-grid">
    <!-- 1 -->
    <Article>
      <div slot="image">
        <img src="images/farma.png" alt="Farma Iluzji" width="400" height="300"/>
      </div>
      <div slot="header">
        <a href="farma-iluzji"><h2>Farma Iluzji – dzień pełen śmiechu i magii</h2></a>
      </div>
      <div slot="content" >
        Chcecie przeżyć dzień pełen dobrych emocji i zabawy? Wybierzcie się do Farmy Iluzji. To jest miejsce, które zachwyci oraz wciągnie dzieci na cały dzień. Dlatego najlepiej się wybrać z samego rana, żeby na spokojnie nacieszyć się mnóstwem atrakcji, które oferuje Farma Iluzji. A tego uwierzcie jest sporo 🙂
      </div>
      <div slot="publish-date">22 Maja 2022</div>
    </Article>
    <!-- 2 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="images/wola.png" alt="Dom urodzenia Fryderyka Chopina w Żelazowej Woli" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Dom urodzenia Chopina w Żelazowej Woli</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Nigdy nie byliście w Żelazowej Woli? Nie zwlekajcie, jedźcie tam już teraz, na pewno to miejsce nie zawiedzie. Starannie zaprojektowany park, piękny muzeum i ta muzyka, która się sączy z ukrytych głośników i która jest dosłownie wszędzie. A jakże mogłoby być inaczej w miejscu związanym z najwybitniejszym polskim muzykiem?
      </div>
      <div slot="publish-date">1 Maja 2022</div>
    </Article>
    <!-- 3 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="images/radziejowice.png" alt="Radziejowice" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Spacer: Radziejowice – park i pałac</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Jeśli szukacie miejsca blisko Warszawy gdzie możecie nieśpiesznie pospacerować i odpocząć od gwaru dużego miasta to wybierzcie się koniecznie do Radziejowic. Zespół parkowo pałacowy w Radziejowicach przyciąga od lat wielbicieli kultury i sztuki a piękny i duży park robi to miejsce idealnym na spacery o każdej porze roku
      </div>
      <div slot="publish-date">19 Listopada 2021</div>
    </Article>
    <!-- 4 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="images/ciechanow.webp" alt="Ciechanów" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Ciechanów: zamek, wieża, muzea – plan na wyjazd</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        100 kilometrów na północ od Warszawy znajduje się Ciechanów. Miejsce to często się kojarzy z ruinami zamku książąt Mazowieckich oraz piwem, jednak oferuje również inne atrakcje, które warto zobaczyć będąc w okolicy. A zobaczyć wszystkie poniższe atrakcje można podczas jednodniowego wyjazdu.
      </div>
      <div slot="publish-date">13 Listopada 2021</div>
    </Article>
    <!-- 5 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="images/wieza.webp" alt="Wieża ciśnień i park nauki Torus" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Wieża ciśnień i park nauki Torus</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Nietuzinkowa wieża i park nauki. Świetne połączenie techniki, nauki i rozrywki: budowli o niezwykłym kształcie i interaktywnego parku. Będąc w okolicach Ciechanowa koniecznie polecamy odwiedzić wieżę, która swoim niezwykłym kształtem wskoczyła na 5 miejsce w światowym rankingu wież, oraz park nauki Torus, który zapewni rozrywkę zarówno małym jak i dużym
      </div>
      <div slot="publish-date">22 Lipca 2021</div>
    </Article>
    <!-- 6 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="images/zamek.webp" alt="Zamek Książąt Mazowieckich w Ciechanowie" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Zamek Książąt Mazowieckich w Ciechanowie</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Urokliwy dobrze zachowany zamek nad rzeczką Ładynią, który pełnił w XIV-XV wieku funkcje obronną. Zamek w odróżnieniu od większości zamków, które zwiedzaliśmy został wybudowany na płaskim terenie, co jest raczej nieczęsto spotykanym zjawiskiem. Mieści się bardzo blisko rynku miasta i jeśli będziecie w okolicy Ciechanowa to zdecydowanie polecamy zatrzymać się i odwiedzić to miejsce pełne…
      </div>
      <div slot="publish-date">11 Czerwca 2021</div>
    </Article>
    <!-- 7 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="images/tomaszow.webp" alt="Tomaszów Mazowiecki" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Tomaszów Mazowiecki i okolica: plan na wyjazd</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Jeśli nie wiecie gdzie się wybrać z Warszawy na jednodniowy wypad to koniecznie się wybierzcie do Tomaszowa Mazowieckiego. Różnorodna okolica sprawdzi, że każdy znajdzie coś dla siebie
      </div>
      <div slot="publish-date">7 Maj, 2021</div>
    </Article>
    <!-- 8 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="images/konewka.webp" alt="Bunkier w Konewce" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Bunkier w Konewce – gratka dla miłośników historii</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Widzieliście schron który zdatny ukryć pociąg? -Taki niezwykły obiekt znajduje się w Konewce, niedaleko Tomaszowa Mazowieckiego. Jest to unikalny na skalę Europy schron kolejowy, długością prawie 400 metrów. Obiekt, otoczony laskiem, jest dobrze zachowany, z dużą ilością eksponatów do zobaczenia.
      </div>
      <div slot="publish-date">17 kwietnia, 2021</div>
    </Article>
    <!-- 9 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="images/skansen.webp" alt="Skansen Rzeki Pilicy" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Skansen Rzeki Pilicy – muzeum na powietrzu</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Zastanawiacie się gdzie wyjechać z Warszawy, żeby połączyć zwiedzanie z pobytem na świeżym powietrzu? Jeśli tak, to polecamy: Skansen Rzeki Pilicy w Tomaszowie Mazowieckim. Jest to pierwszym w Polsce muzeum na wolnym powietrzu poświęconym rzece.
      </div>
      <div slot="publish-date">25 marca, 2021</div>
    </Article>
    <!-- 10 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="/images/zrodla.webp" alt="Niebieskie Źródła" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Niebieskie Źródła – rezerwat i wywierzyska</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Niebieskie Źródła to są wyjątkowe na skale Europy źródła z czystą jak kryształ wodą niesamowitej zielonkawo – niebieskiej barwy. Wywierzyska, które tworzą 3 połączone jeziora są otoczone piękny parkiem – rezerwatem, idealnym miejscem na niespieszny niedzielny spacer.
      </div>
      <div slot="publish-date">14 marca, 2021</div>
    </Article>
    <!-- 11 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="/images/kazimierz.webp" alt="Kazimierz Dolny" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Kazimierz Dolny – miasteczko nad Wisłą</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Kazimierz Dolny nad Wisłą, to malownicze miasteczko, który co weekend przyciąga tłumy zwiedzających. Niezwykły klimat i urok tego miejsca tworzy historia sięgająca kilka wieków wstecz.
      </div>
      <div slot="publish-date">12 października, 2020</div>
    </Article>
    <!-- 12 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="/images/janowiec.webp" alt="Janowiec" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Janowiec – zamek i skansen</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Na wysokiej skąpie nad Wisłą, blisko Kazimierza Dolnego w otoczeniu malowniczej natury wznoszą się ruiny pięknego zamku w Janowcu. Wybudowany z pobliskiego piaskowca w połączeniu z cegłą tworzy niezwykłą pasiastą fasadę.
      </div>
      <div slot="publish-date">7 października, 2020</div>
    </Article>
    <!-- 13 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="/images/park.webp" alt="Park linowy Warszawa" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Park linowy Warszawa – zabawa dla każdego</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        Jeśli się zastanawiacie co mogą robić w Warszawie miłośnicy aktywnego spędzania czasu, to Park Linowy w Warszawie będzie dobrym wyborem dla całej rodziny. Nad Wisłą niedaleko ogrodu zoologicznego mamy możliwość przejścia kilku tras o różnym poziomie trudności.
      </div>
      <div slot="publish-date">23 września, 2020</div>
    </Article>
    <!-- 14 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="/images/krolikarnia.webp" alt="Królikarnia" width="400" height="300" /></a>
      </div>
      
        <div slot="header">
          <a href="#"><h2>Królikarnia – pałac i park rzeźby</h2></a>
        </div>
      </a>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        W sercu Mokotowa, blisko centrum Warszawy znajduje się piękny park Królikarnia. Dawny zwierzyniec w którym polowano na króliki. Dzisiaj jest to miejsce na relaks połączony z historią i kulturą.
      </div>
      <div slot="publish-date">15 września, 2020</div>
    </Article>
    <!-- 15 -->
    <Article>
      <div slot="image">
        <a href="#"><img src="/images/pomiechowek.webp" alt="Pomiechówek" width="400" height="300" /></a>
      </div>
      <div slot="header">
        <a href="#"><h2>Pomiechówek – ścieżka edukacyjna i korony drzew</h2></a>
      </div>
      <div slot="content" style="font-size:19px; color:rgb(77, 77, 77); font-weight:400; letter-spacing:1px; margin-top:30px; margin-bottom:30px;">
        W Pomiechówku spotkamy niezwykle połączenie zabawy i edukacji o naturze. Jest to jedno z najlepszych miejsc na Mazowszu na aktywne i poznawcze spędzenie czasu z dziećmi.
      </div>
      <div slot="publish-date">7 września, 2020</div>
    </Article>
  </div>
  <button id="show-more-btn" class="show-more-btn">Więcej Wpisów ...</button>

  
  <Footer />
</Layout>

<style>
  .articles-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
    margin: 32px auto;
    max-width: 1440px;
    padding: 0 16px;
  }

  .article {
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transition: transform 0.2s ease;
    height: 100%;
  }

  .article:hover {
    transform: translateY(-5px);
  }

  .article .image {
    width: 100%;
    height: 200px;
    overflow: hidden;
    border-radius: 8px 8px 0 0;
  }

  .article .image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }

  .article:hover .image img {
    transform: scale(1.05);
  }

  .article .header {
    padding: 16px;
    min-height: 80px;
  }

  .article .header h2 {
    font-size: clamp(1.1rem, 2vw, 1.3rem);
    line-height: 1.4;
    margin: 0;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .article .content {
    padding: 0 16px 16px;
    color: #666;
    font-size: clamp(0.9rem, 1.5vw, 1rem);
    line-height: 1.6;
  }

  .search-input {
    width: 90%;
    max-width: 600px;
    margin: 32px auto;
    display: block;
    padding: 12px 24px;
    border: 2px solid #eee;
    border-radius: 24px;
    font-size: 16px;
  }

  @media (max-width: 768px) {
    .articles-grid {
      grid-template-columns: 1fr;
      padding: 0 12px;
    }
    
    .search-input {
      width: 95%;
      padding: 10px 20px;
    }
  }
</style>
<script>
  const searchInput = document.querySelector(".search-input");
  const grid = document.querySelector(".articles-grid");
  const showMoreBtn = document.getElementById("show-more-btn");
  const allArticles = grid ? Array.from(grid.querySelectorAll(":scope > div")) : [];
  let visibleCount = 9;

  function updateVisibleArticles() {
    allArticles.forEach((article, idx) => {
      (article as HTMLElement).style.display = idx < visibleCount ? "" : "none";
    });
    if (showMoreBtn) {
      if (visibleCount >= allArticles.length) {
        showMoreBtn.style.display = "none";
      } else {
        showMoreBtn.style.display = "block";
      }
    }
  }

  updateVisibleArticles();

  showMoreBtn?.addEventListener("click", () => {
    visibleCount += 6;
    updateVisibleArticles();
  });

  function searchWord(e) {
    const currentWord = e.target.value.trim().toLowerCase();
    visibleCount = 9;
    allArticles.forEach(article => {
      if (((article as HTMLElement).textContent || "").toLowerCase().includes(currentWord)) {
        (article as HTMLElement).style.display = "";
      } else {
        (article as HTMLElement).style.display = "none";
      }
    });
    // Po wyszukiwaniu, jeśli mniej niż 9 pasuje, chowaj guzik
    const visibleNow = allArticles.filter(a => (a as HTMLElement).style.display !== "none");
    if (showMoreBtn) {
      if (visibleNow.length <= visibleCount) {
        showMoreBtn.style.display = "none";
      } else {
        showMoreBtn.style.display = "block";
      }
    }
  }
  searchInput?.addEventListener("input", searchWord);
</script>
